(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4920c675"],{"584a":function(t,e){var a=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=a)},"5d8b":function(t,e,a){"use strict";var o=a("646a"),i=a.n(o);i.a},"646a":function(t,e,a){},a21f:function(t,e,a){var o=a("584a"),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},a9fc:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{staticStyle:{position:"fixed",right:"20px",top:"10px"},attrs:{type:"info",icon:"el-icon-search"},on:{click:t.init}},[t._v("歇后语搜索")]),a("el-dialog",{attrs:{title:"搜索",visible:t.dialogFormVisible,modal:!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"请输入汉字","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.word,callback:function(e){t.$set(t.form,"word",e)},expression:"form.word"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("确 定")])],1)],1),a("div",{ref:"dv",style:"height: "+t.tableHeight+"px; overflow-y: auto; position: absolute; top: 0; width: 100%; bottom: 0"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"歇后语:"}},[a("span",[t._v(t._s(e.row.riddle))])]),a("el-form-item",{attrs:{label:"含义:"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("更多")]),a("el-dialog",{attrs:{title:"含义",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v(t._s(e.row.answer))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),a("el-form-item",{attrs:{label:"更多了解:"}},[a("a",{staticStyle:{"text-decoration":"none",color:"#409EFF"},attrs:{target:"_blank",href:"https://baike.baidu.com/item/"+e.row.riddle}},[t._v("百度百科")])])],1)]}}])}),a("el-table-column",{attrs:{label:"歇后语",prop:"riddle"}}),a("el-table-column",{attrs:{label:"含义",prop:"answer"}})],1)],1),a("div",{staticStyle:{"background-color":"#fff",width:"100%",height:"50px",position:"absolute",bottom:"0"}},[a("el-pagination",{staticStyle:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)"},attrs:{background:!0,small:!0,"current-page":t.currentPage,"page-sizes":[10,20,30],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[],l=a("f499"),r=a.n(l),s=(a("cadf"),a("551c"),a("f751"),a("097d"),{name:"allegorical",data:function(){return{tableData:[],currentPage:1,total:0,page:1,pageSize:10,dialogFormVisible:!1,dialogVisible:!1,form:{word:""},formLabelWidth:"150px",tableHeight:document.documentElement.clientHeight-130,scrollTop:0}},methods:{init:function(){this.form.word="",this.dialogFormVisible=!0},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.pageSize=t,this.$store.commit("changeAllegoricalPageSize",t);var e=this.$store.state.allegoricalParams.temp,a=this.$store.state.allegoricalParams.page;this.searchWords(e,a,t),this.$refs.dv.scrollTop=0},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.$store.commit("changeAllegoricalPage",t);var e=this.$store.state.allegoricalParams.temp,a=this.$store.state.allegoricalParams.pageSize;this.searchWords(e,t,a),this.$refs.dv.scrollTop=0},searchWords:function(t,e,a){var o=this;this.$http.get("allegorical?temp=".concat(t,"&page=").concat(e,"&pageSize=").concat(a)).then(function(e){if(o.tableData=e.body.data,o.total=e.body.total,localStorage.getItem("history")){var a=new Date,i={temp:t,time:a.toLocaleString()},l=JSON.parse(localStorage.getItem("history"));l.unshift(i),l.length>=10&&l.pop(),localStorage.setItem("history",r()(l))}else{var s=new Date,n=[{temp:t,time:s.toLocaleString()}];localStorage.setItem("history",r()(n))}})},search:function(){var t=this.form.word.trim();if(/^[\u4e00-\u9fa5]+$/.test(t)){this.dialogFormVisible=!1;var e=this.$loading({target:this.$refs.dv,lock:!0,text:"拼命加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.searchWords(t,this.page,this.pageSize),this.$store.commit("updateAllegoricalParams",{temp:t,page:this.page,pageSize:this.pageSize}),e.close()}else this.$message({showClose:!0,message:"请输入汉字",type:"error"})}}}),n=s,c=(a("5d8b"),a("2877")),g=Object(c["a"])(n,o,i,!1,null,"606e236a",null);e["default"]=g.exports},f499:function(t,e,a){t.exports=a("a21f")}}]);
//# sourceMappingURL=chunk-4920c675.05360595.js.map