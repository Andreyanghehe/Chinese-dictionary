(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21e34199"],{"584a":function(t,e){var i=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},"6af4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{staticStyle:{position:"fixed",right:"20px",top:"10px"},attrs:{type:"info",icon:"el-icon-search"},on:{click:t.init}},[t._v("成语搜索")]),i("el-dialog",{attrs:{title:"搜索",visible:t.dialogFormVisible,modal:!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("汉字")]),i("el-radio",{attrs:{label:"4"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("拼音或首字母")]),i("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"请输入要搜索的内容","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.word,callback:function(e){t.$set(t.form,"word",e)},expression:"form.word"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("确 定")])],1)],1),i("div",{ref:"dv",style:"height: "+t.tableHeight+"px; overflow-y: auto; position: absolute; top: 0; width: 100%; bottom: 0"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"成语:"}},[i("span",[t._v(t._s(e.row.word))])]),i("el-form-item",{attrs:{label:"读音:"}},[i("span",[t._v(t._s(e.row.pinyin))])]),i("el-form-item",{attrs:{label:"含义:"}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("更多")]),i("el-dialog",{attrs:{title:"含义",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[t._v(t._s(e.row.explanation))]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),i("el-form-item",{attrs:{label:"出处:"}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible1=!0}}},[t._v("更多")]),i("el-dialog",{attrs:{title:"出处",visible:t.dialogVisible1,width:"60%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[i("span",[t._v(t._s(e.row.derivation))]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible1=!1}}},[t._v("确 定")])],1)])],1),i("el-form-item",{attrs:{label:"例子:"}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible2=!0}}},[t._v("更多")]),i("el-dialog",{attrs:{title:"例子",visible:t.dialogVisible2,width:"60%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[i("span",[t._v(t._s(e.row.example))]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible2=!1}}},[t._v("确 定")])],1)])],1),i("el-form-item",{attrs:{label:"更多了解:"}},[i("a",{staticStyle:{"text-decoration":"none",color:"#409EFF"},attrs:{target:"_blank",href:"https://baike.baidu.com/item/"+e.row.word}},[t._v("百度字词")])])],1)]}}])}),i("el-table-column",{attrs:{label:"成语",prop:"word"}}),i("el-table-column",{attrs:{label:"读音",prop:"pinyin"}}),i("el-table-column",{attrs:{label:"含义",prop:"explanation"}})],1)],1),i("div",{staticStyle:{"background-color":"#fff",width:"100%",height:"50px",position:"absolute",bottom:"0"}},[i("el-pagination",{staticStyle:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)"},attrs:{background:!0,small:!0,"current-page":t.currentPage,"page-sizes":[10,20,30],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},o=[],s=i("f499"),l=i.n(s),r=(i("cadf"),i("551c"),i("f751"),i("097d"),{name:"idiom",data:function(){return{tableData:[],currentPage:1,total:0,page:1,pageSize:10,dialogFormVisible:!1,dialogVisible:!1,dialogVisible1:!1,dialogVisible2:!1,form:{word:""},radio:"1",formLabelWidth:"150px",tableHeight:document.documentElement.clientHeight-130,scrollTop:0}},methods:{init:function(){this.form.word="",this.radio="0",this.dialogFormVisible=!0},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.pageSize=t,this.$store.commit("changeIdiomPageSize",t);var e=this.$store.state.idiomParams.id,i=this.$store.state.idiomParams.temp,a=this.$store.state.idiomParams.page;this.searchIdiom(e,i,a,t),this.$refs.dv.scrollTop=0},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.$store.commit("changeIdiomPage",t);var e=this.$store.state.idiomParams.id,i=this.$store.state.idiomParams.temp,a=this.$store.state.idiomParams.pageSize;this.searchIdiom(e,i,t,a),this.$refs.dv.scrollTop=0},searchIdiom:function(t,e,i,a){var o=this;this.$http.get("idiom?id=".concat(t,"&temp=").concat(e,"&page=").concat(i,"&pageSize=").concat(a)).then(function(t){if(o.tableData=t.body.data,o.total=t.body.total,localStorage.getItem("history")){var i=new Date,a={temp:e,time:i.toLocaleString()},s=JSON.parse(localStorage.getItem("history"));s.unshift(a),s.length>=10&&s.pop(),localStorage.setItem("history",l()(s))}else{var r=new Date,n=[{temp:e,time:r.toLocaleString()}];localStorage.setItem("history",l()(n))}})},search:function(){var t=this.form.word.trim();switch(this.radio){case"1":if(/^[\u4e00-\u9fa5]+$/.test(t)){this.dialogFormVisible=!1;var e=this.$loading({target:this.$refs.dv,lock:!0,text:"拼命加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.searchIdiom(1,t,this.page,this.pageSize),this.$store.commit("updateIdiomParams",{id:1,temp:t,page:this.page,pageSize:this.pageSize}),e.close()}else this.$message({showClose:!0,message:"请输入成语",type:"error"});break;case"4":if(/^[a-zA-Z]+$/.test(t)){this.dialogFormVisible=!1;var i=this.$loading({target:this.$refs.dv,lock:!0,text:"拼命加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.searchIdiom(4,t,this.page,this.pageSize),this.$store.commit("updateIdiomParams",{id:4,temp:t,page:this.page,pageSize:this.pageSize}),i.close()}else this.$message({showClose:!0,message:"请输入成语拼音或首字母",type:"error"});break;case"0":this.$message({showClose:!0,message:"请选择搜索方式",type:"error"});break}}}}),n=r,c=(i("e6fd"),i("2877")),d=Object(c["a"])(n,a,o,!1,null,"95a06c9a",null);e["default"]=d.exports},a21f:function(t,e,i){var a=i("584a"),o=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},d8a4:function(t,e,i){},e6fd:function(t,e,i){"use strict";var a=i("d8a4"),o=i.n(a);o.a},f499:function(t,e,i){t.exports=i("a21f")}}]);
//# sourceMappingURL=chunk-21e34199.ad6b37fa.js.map